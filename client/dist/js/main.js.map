{"version":3,"sources":["webpack:///webpack/bootstrap 7b8a3a564178b2753754","webpack:///./client/src/js/bulkTools.js","webpack:///./client/src/js/manager.js","webpack:///./client/src/js/managerBulkEditingForm.js","webpack:///./client/src/js/uploader.js","webpack:///external \"jQuery\"","webpack:///external \"Injector\""],"names":["window","bulkTools","gridfieldRefresh","$gridfield","data","isError","isDestructive","removeGridFieldRows","records","success","updateGridFieldRows","failedGridFieldRows","failed","getGridFieldRow","record","find","id","class","cleanGridFieldRow","$row","removeClass","removeAttr","forEach","addClass","fadeOut","entwine","delay","reload","attr","message","remove","$newRow","$","row","length","replaceWith","prepend","onmatch","$parent","parents","$tr","targets","$target","join","index","newIndex","each","Element","idx","eq","insertAfter","onunmatch","onmouseover","onmouseout","onclick","e","cb","target","prop","state","trigger","getSelectRecordsID","map","parseInt","get","onchange","value","val","$btn","config","configKey","configData","$img","getActionURL","action","url","cacheBuster","Date","getTime","split","ids","doBulkAction","$msg","alert","ss","i18n","_t","confirm","ajax","type","context","always","textStatus","jqXHR","responseText","JSON","parse","html","isWarning","location","href","jQuery","toggleFields","$this","hasClass","click","bulkUploadFieldAttach","payload","$uploadField","fieldId","schema","attachFileEndpoint","method","fileID","file","done","bulkUploadFieldUpload","json","bulkUploadFieldReducer","originalReducer","globalState","indexOf","Injector","transform","updater","reducer"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;AC1DAA,OAAOC,SAAP,GAAmB;;AAEjBC,oBAAkB,0BAAUC,UAAV,EAAsBC,IAAtB,EAA4B;AAC5C,QAAI,CAACA,KAAKC,OAAV,EAAmB;AACjB,UAAID,KAAKE,aAAT,EAAwB;AACtB,aAAKC,mBAAL,CAAyBJ,UAAzB,EAAqCC,KAAKI,OAAL,CAAaC,OAAlD;AACD,OAFD,MAEO;AACL,aAAKC,mBAAL,CAAyBP,UAAzB,EAAqCC,KAAKI,OAAL,CAAaC,OAAlD;AACD;;AAED,WAAKE,mBAAL,CAAyBR,UAAzB,EAAqCC,KAAKI,OAAL,CAAaI,MAAlD;AACD;AACF,GAZgB;;AAejBC,mBAAiB,yBAAUV,UAAV,EAAsBW,MAAtB,EAA8B;AAC7C,WAAOX,WAAWY,IAAX,CAAgB,iCAA+BD,OAAOE,EAAtC,GAAyC,iBAAzC,GAA2DF,OAAOG,KAAlE,GAAwE,IAAxF,CAAP;AACD,GAjBgB;;AAoBjBC,qBAAmB,2BAAUC,IAAV,EAAgB;AACjC,WAAOA,KAAKC,WAAL,CAAiB,iCAAjB,EAAoDC,UAApD,CAA+D,UAA/D,CAAP;AACD,GAtBgB;;AAyBjBd,uBAAqB,6BAAUJ,UAAV,EAAsBK,OAAtB,EAA+B;AAClDA,YAAQc,OAAR,CAAgB,UAASR,MAAT,EAAgB;AAC9B,UAAIK,OAAO,KAAKN,eAAL,CAAqBV,UAArB,EAAiCW,MAAjC,CAAX;AACAK,WAAKI,QAAL,CAAc,YAAd,EAA4BC,OAA5B,CAAoC,IAApC;AACD,KAHD,EAGG,IAHH;AAIArB,eAAWsB,OAAX,CAAmB,GAAnB,EAAwBA,OAAxB,CAAgC,IAAhC,EAAsCC,KAAtC,CAA4C,IAA5C,EAAkDC,MAAlD;AACD,GA/BgB;;AAkCjBhB,uBAAqB,6BAAUR,UAAV,EAAsBK,OAAtB,EAA+B;AAClDA,YAAQc,OAAR,CAAgB,UAASR,MAAT,EAAgB;AAC9B,UAAIK,OAAO,KAAKN,eAAL,CAAqBV,UAArB,EAAiCW,MAAjC,CAAX;AACAK,WAAKI,QAAL,CAAc,WAAd,EAA2BK,IAA3B,CAAgC,UAAhC,EAA4Cd,OAAOe,OAAnD;AAED,KAJD,EAIG,IAJH;AAKD,GAxCgB;;AA2CjBnB,uBAAqB,6BAAUP,UAAV,EAAsBK,OAAtB,EAA+B;AAClDL,eAAWY,IAAX,CAAgB,0CAAhB,EAA4De,MAA5D;AACAtB,YAAQc,OAAR,CAAgB,UAASR,MAAT,EAAgB;AAC9B,UAAIK,OAAO,KAAKN,eAAL,CAAqBV,UAArB,EAAiCW,MAAjC,CAAX;AACA,UAAIiB,UAAUC,EAAElB,OAAOmB,GAAT,EAAcV,QAAd,CAAuB,YAAvB,CAAd;;AAEA,UAAIJ,KAAKe,MAAL,KAAgB,CAApB,EAAuB;AACrBf,aAAKgB,WAAL,CAAiBJ,OAAjB;AACD,OAFD,MAEO;AACL5B,mBAAWY,IAAX,CAAgB,qBAAhB,EAAuCqB,OAAvC,CAA+CL,OAA/C;AACD;AACF,KATD,EASG,IATH;AAUD;;AAvDgB,CAAnB,C;;;;;;;;ACHC,yDAASC,CAAT,EAAY;AACZA,GAAEP,OAAF,CAAU,IAAV,EAAgB,UAASO,CAAT,EAAY;;AAE3BA,IAAEP,OAAF,CAAU,SAAV,EAAqB,UAASO,CAAT,EAAY;AAK7BA,KAAE,qBAAF,EAAyBP,OAAzB,CAAiC;AAC/BY,aAAS,mBAAU;AACjB,SAAIC,UAAU,KAAKC,OAAL,CAAa,OAAb,CAAd;AAAA,SACEC,MAAMF,QAAQvB,IAAR,CAAa,IAAb,CADR;AAAA,SAGE0B,UAAU,CAAC,gBAAD,EAAmB,kBAAnB,CAHZ;AAAA,SAIEC,UAAUJ,QAAQvB,IAAR,CAAa0B,QAAQE,IAAR,CAAa,GAAb,CAAb,CAJZ;AAAA,SAMIC,QAAQJ,IAAII,KAAJ,CAAU,IAAV,CANZ;AAAA,SAOIC,WAAWL,IAAIN,MAAJ,GAAa,CAP5B;;AAUAQ,aAAQI,IAAR,CAAa,UAASF,KAAT,EAAgBG,OAAhB,EAAwB;AACpC,UAAIC,MAAMR,IAAII,KAAJ,CAAUG,OAAV,CAAV;AACA,UAAKC,MAAMH,QAAX,EACA;AACCA,kBAAWG,GAAX;AACA;AACD,MAND;;AAQA,SAAKJ,QAAQC,QAAb,EACA;AACEL,UAAIS,EAAJ,CAAOJ,QAAP,EAAiBK,WAAjB,CAA6BlB,EAAE,IAAF,CAA7B;AACD;AACF,KAxB8B;AAyB/BmB,eAAW,qBAAU,CAAE;AAzBQ,IAAjC;;AAgCHnB,KAAE,mBAAF,EAAuBP,OAAvB,CAA+B;AAC9BY,aAAS,mBAAU,CAClB,CAF6B;AAG9Bc,eAAW,qBAAU,CACpB,CAJ6B;AAK9BC,iBAAa,uBAAU;AAElBpB,OAAE,IAAF,EAAQO,OAAR,CAAgB,oBAAhB,EAAsCxB,IAAtC,CAA2C,YAA3C,EAAyDK,WAAzD,CAAqE,WAArE,EAAkFG,QAAlF,CAA2F,sBAA3F;AACJ,KAR6B;AAS9B8B,gBAAY,sBAAU;AAErBrB,OAAE,IAAF,EAAQO,OAAR,CAAgB,oBAAhB,EAAsCxB,IAAtC,CAA2C,uBAA3C,EAAoEQ,QAApE,CAA6E,WAA7E,EAA0FH,WAA1F,CAAsG,sBAAtG;AACA,KAZ6B;AAa9BkC,aAAS,iBAASC,CAAT,EAAY;AAEpB,SAAIC,KAAKxB,EAAEuB,EAAEE,MAAJ,EAAY1C,IAAZ,CAAiB,OAAjB,CAAT;AACA,SAAK,CAACiB,EAAEwB,EAAF,EAAME,IAAN,CAAW,SAAX,CAAN,EAA8B1B,EAAEwB,EAAF,EAAME,IAAN,CAAW,SAAX,EAAsB,IAAtB,EAA9B,KACK1B,EAAEwB,EAAF,EAAME,IAAN,CAAW,SAAX,EAAsB,KAAtB;AACL;AAlB6B,IAA/B;;AAyBA1B,KAAE,yBAAF,EAA6BP,OAA7B,CAAqC;AACpCY,aAAS,mBAAU,CAClB,CAFmC;AAGpCc,eAAW,qBAAU,CACpB,CAJmC;AAKpCG,aAAS,iBAASC,CAAT,EAAY;AACpBvB,OAAE,IAAF,EAAQO,OAAR,CAAgB,oBAAhB,EAAsCxB,IAAtC,CAA2C,qBAA3C,EAAkE2C,IAAlE,CAAuE,SAAvE,EAAkF,EAAlF;AACA;AAPmC,IAArC;;AAcE1B,KAAE,qBAAF,EAAyBP,OAAzB,CAAiC;AAC/BY,aAAS,mBAAU,CACrB,CAFiC;AAGlCc,eAAW,qBAAU,CACpB,CAJiC;AAK/BG,aAAS,mBACT;AACE,SAAIK,QAAQ3B,EAAE,IAAF,EAAQ0B,IAAR,CAAa,SAAb,CAAZ;AACA1B,OAAE,IAAF,EAAQO,OAAR,CAAgB,oBAAhB,EACKxB,IADL,CACU,yBADV,EAEK2C,IAFL,CAEU,SAFV,EAEqBC,KAFrB,EAGKC,OAHL,CAGa,QAHb;AAID,KAZ8B;AAa/BC,wBAAoB,8BACpB;AACC,YAAO7B,EAAE,IAAF,EAAQO,OAAR,CAAgB,oBAAhB,EACCxB,IADD,CACM,iCADN,EAEC+C,GAFD,CAEK,YAAW;AACf,aAAOC,SAAU/B,EAAE,IAAF,EAAQ5B,IAAR,CAAa,QAAb,CAAV,CAAP;AACA,MAJD,EAKD4D,GALC,EAAP;AAMA;AArB8B,IAAjC;;AA4BFhC,KAAE,uBAAF,EAA2BP,OAA3B,CAAmC;AAClCY,aAAS,mBAAU,CAClB,CAFiC;AAGlCc,eAAW,qBAAU,CACpB,CAJiC;AAKlCc,cAAU,kBAASV,CAAT,EACV;AACC,SAAIW,QAAUlC,EAAE,IAAF,EAAQmC,GAAR,EAAd;AAAA,SACC7B,UAAUN,EAAE,IAAF,EAAQO,OAAR,CAAgB,qBAAhB,CADX;AAAA,SAEC6B,OAAU9B,QAAQvB,IAAR,CAAa,qBAAb,CAFX;AAAA,SAGCsD,SAAUD,KAAKhE,IAAL,CAAU,QAAV,CAHX;;AAKA4B,OAAEc,IAAF,CAAQuB,MAAR,EAAgB,UAAUC,SAAV,EAAqBC,UAArB,EAChB;AACC,UAAKD,aAAaJ,KAAlB,EACA;AACCE,YAAKhD,WAAL,CAAiBmD,WAAW,eAAX,CAAjB;AACA;AACD,MAND;;AAQA,SAAG,CAACL,KAAJ,EACA;AACCE,WAAK7C,QAAL,CAAc,UAAd;AACA;AACA,MAJD,MAKK;AACJ6C,WAAKhD,WAAL,CAAiB,UAAjB;AACA;;AAEDgD,UAAK7C,QAAL,CAAc8C,OAAOH,KAAP,EAAc,eAAd,CAAd,EAA8C3C,QAA9C,CAAuD,uBAAvD;;AAGA,SAAK8C,OAAOH,KAAP,EAAc,MAAd,CAAL,EACA;AACC,UAAIM,OAAOJ,KAAKrD,IAAL,CAAU,KAAV,CAAX;;AAEA,UAAIyD,KAAKtC,MAAT,EACA;AACCsC,YAAK5C,IAAL,CAAU,KAAV,EAAiByC,OAAOH,KAAP,EAAc,MAAd,CAAjB;AACA,OAHD,MAII;AACHE,YAAKhC,OAAL,CAAa,eAAaiC,OAAOH,KAAP,EAAc,MAAd,CAAb,GAAmC,aAAhD;AACA;AACD,MAXD,MAYI;AACHE,WAAKrD,IAAL,CAAU,KAAV,EAAiBe,MAAjB;AACA;;AAGD,SAAKuC,OAAOH,KAAP,EAAc,aAAd,CAAL,EACA;AACCE,WAAK7C,QAAL,CAAc,oBAAd;AACA,MAHD,MAII;AACH6C,WAAKhD,WAAL,CAAiB,oBAAjB;AACA;AAED;AAzDiC,IAAnC;;AAgEAY,KAAE,qBAAF,EAAyBP,OAAzB,CAAiC;AAChCY,aAAS,mBAAU,CAClB,CAF+B;AAGhCc,eAAW,qBAAU,CACpB,CAJ+B;AAKhCsB,kBAAc,sBAASC,MAAT,EAAiBC,GAAjB,EACd;AACC,SAAIC,cAAc,IAAIC,IAAJ,GAAWC,OAAX,EAAlB;AACAH,WAAMA,IAAII,KAAJ,CAAU,GAAV,CAAN;;AAEA,SAAKL,MAAL,EACA;AACCA,eAAS,MAAMA,MAAf;AACA,MAHD,MAII;AACHA,eAAS,EAAT;AACA;;AAED,SAAKC,IAAI,CAAJ,CAAL,EACA;AACCA,YAAMA,IAAI,CAAJ,IAASD,MAAT,GAAkB,GAAlB,GAAwBC,IAAI,CAAJ,CAAxB,GAAiC,GAAjC,GAAuC,cAAvC,GAAwDC,WAA9D;AACA,MAHD,MAII;AACHD,YAAMA,IAAI,CAAJ,IAASD,MAAT,GAAkB,GAAlB,GAAwB,cAAxB,GAAyCE,WAA/C;AACA;AACD,YAAOD,GAAP;AACA,KA1B+B;AA2BhCrB,aAAS,iBAASC,CAAT,EACT;AACM,SAAIjB,UAAUN,EAAE,IAAF,EAAQO,OAAR,CAAgB,qBAAhB,CAAd;AAAA,SACImC,SAAUpC,QAAQvB,IAAR,CAAa,uBAAb,EAAsCoD,GAAtC,EADd;AAAA,SAEIa,MAAUhD,EAAE,IAAF,EAAQO,OAAR,CAAgB,qBAAhB,EAAuCxB,IAAvC,CAA4C,2BAA5C,EAAyE8C,kBAAzE,EAFd;;AAKL,UAAKoB,YAAL,CAAkBP,MAAlB,EAA0BM,GAA1B;AACA,KAnC+B;;AAqChCC,kBAAc,sBAASP,MAAT,EAAiBM,GAAjB,EACd;AACM,SAAI1C,UAAUN,EAAE,IAAF,EAAQO,OAAR,CAAgB,qBAAhB,CAAd;AAAA,SACI6B,OAAU9B,QAAQvB,IAAR,CAAa,sBAAb,CADd;AAAA,SAEImE,OAAU5C,QAAQvB,IAAR,CAAa,UAAb,CAFd;AAAA,SAIIsD,SAAUD,KAAKhE,IAAL,CAAU,QAAV,CAJd;AAAA,SAKIuE,MAAU,KAAKF,YAAL,CAAkBC,MAAlB,EAA0B1C,EAAE,IAAF,EAAQ5B,IAAR,CAAa,KAAb,CAA1B,CALd;AAAA,SAMIA,OAAU,EAAEI,SAASwE,GAAX,EANd;;AASL,SAAKA,IAAI9C,MAAJ,IAAc,CAAnB,EACA;AACCiD,YAAOC,GAAGC,IAAH,CAAQC,EAAR,CAAW,gDAAX,CAAP;AACA;AACA;;AAGD,SAAKjB,OAAOK,MAAP,EAAe,aAAf,CAAL,EACA;AACC,UAAI,CAACa,QAAQH,GAAGC,IAAH,CAAQC,EAAR,CAAW,mDAAX,CAAR,CAAL,EACA;AACC,cAAO,KAAP;AACA;AACD;;AAEDlB,UAAK7C,QAAL,CAAc,SAAd;AACA2D,UAAK9D,WAAL,CAAiB,2BAAjB;;AAEA,SAAKiD,OAAOK,MAAP,EAAe,KAAf,CAAL,EACA;AACC1C,QAAEwD,IAAF,CAAO;AACNb,YAAKA,GADC;AAENvE,aAAMA,IAFA;AAGNqF,aAAM,MAHA;AAINC,gBAAS1D,EAAE,IAAF;AAJH,OAAP,EAKG2D,MALH,CAKU,UAASvF,IAAT,EAAewF,UAAf,EAA2BC,KAA3B,EAAkC;AAC3CzB,YAAKhD,WAAL,CAAiB,SAAjB;;AAGA,WAAIhB,KAAK0F,YAAT,EAAuB;AACtB1F,eAAO2F,KAAKC,KAAL,CAAW5F,KAAK0F,YAAhB,CAAP;AACA;;AAEDZ,YAAKe,IAAL,CAAU7F,KAAKyB,OAAf;;AAEA,WAAGzB,KAAKC,OAAR,EAAiB;AAChB6E,aAAK3D,QAAL,CAAc,cAAd;AACA,QAFD,MAEO,IAAInB,KAAK8F,SAAT,EAAoB;AAC1BhB,aAAK3D,QAAL,CAAc,cAAd;AACA,QAFM,MAEA;AACN2D,aAAK3D,QAAL,CAAc,MAAd;AACA;;AAEDtB,iBAAUC,gBAAV,CAA2B8B,EAAE,IAAF,EAAQO,OAAR,CAAgB,eAAhB,CAA3B,EAA6DnC,IAA7D;AACA,OAxBD;AAyBA,MA3BD,MA4BI;AACH,UAAII,UAAU,eAAawE,IAAIrC,IAAJ,CAAS,aAAT,CAA3B;AACAgC,YAAMA,MAAM,GAAN,GAAYnE,OAAlB;;AAEAR,aAAOmG,QAAP,CAAgBC,IAAhB,GAAuBzB,GAAvB;AACA;AACD;AApG+B,IAAjC;AAwGA,GAhRD;AAiRA,EAnRD;AAoRA,CArRA,EAqRC0B,MArRD,CAAD,C;;;;;;;;ACAC,yDAASrE,CAAT,EAAY;AACXA,IAAEP,OAAF,CAAU,SAAV,EAAqB,UAASO,CAAT,EAAY;AAM/BA,MAAE,iBAAF,EAAsBP,OAAtB,CAA8B;AAC5BY,eAAS,mBAAU,CAAE,CADO;AAE5Bc,iBAAW,qBAAU,CAAE,CAFK;AAG5BG,eAAS,iBAASC,CAAT,EACT;AACE,YAAI+C,eAAe,KAAK/D,OAAL,CAAa,MAAb,EAAqBxB,IAArB,CAA0B,iCAA1B,CAAnB;AAAA,YACI4C,QAAe,KAAKvD,IAAL,CAAU,OAAV,CADnB;;AAIA,YAAK,CAACuD,KAAD,IAAUA,UAAU,OAAzB,EACA;AACEA,kBAAQ,MAAR;AACD,SAHD,MAIK;AACHA,kBAAQ,OAAR;AACD;;AAED2C,qBAAaxD,IAAb,CAAkB,YAClB;AACE,cAAIyD,QAAQvE,EAAE,IAAF,CAAZ;;AAEA,cAAK2B,UAAU,MAAV,IAAoB,CAAC4C,MAAMC,QAAN,CAAe,iBAAf,CAA1B,EACA;AACED,kBAAME,KAAN;AACD;;AAED,cAAK9C,UAAU,OAAV,IAAqB4C,MAAMC,QAAN,CAAe,iBAAf,CAA1B,EACA;AACED,kBAAME,KAAN;AACD;AACF,SAbD;;AAeA,aAAKrG,IAAL,CAAU,OAAV,EAAmBuD,KAAnB;AACD;AAjC2B,KAA9B;;AAyCA3B,MAAE,yBAAF,EAA6BP,OAA7B,CAAqC;AACnCY,eAAS,mBAAU,CAAE,CADc;AAEnCc,iBAAW,qBAAU,CAAE,CAFY;AAGnCc,gBAAU,oBAAU;AAClB,aAAK7C,WAAL,CAAiB,SAAjB;AACA,YAAK,CAAC,KAAKoF,QAAL,CAAc,WAAd,CAAN,EACA;AACE,eAAKjF,QAAL,CAAc,WAAd;AACD;AACF;AATkC,KAArC;AAYD,GA3DD;AA4DD,CA7DA,EA6DC8E,MA7DD,CAAD,C;;;;;;;;;;;;;ACIA;;AAGA,IAAMK,wBAAwB,SAAxBA,qBAAwB,CAACC,OAAD,EAAa;AACzC,MAAMC,eAAeP,OAAO,MAAIM,QAAQE,OAAnB,CAArB;AACD,MAAM1G,aAAayG,aAAarE,OAAb,CAAqB,eAArB,CAAnB;AACC,MAAMuE,SAASF,aAAaxG,IAAb,CAAkB,QAAlB,CAAf;AACDiG,SAAOb,IAAP,CAAYsB,OAAO1G,IAAP,CAAY2G,kBAAZ,CAA+BpC,GAA3C,EAAgD;AAC9CqC,YAAQF,OAAO1G,IAAP,CAAY2G,kBAAZ,CAA+BC,MADO;AAE9C5G,UAAM;AACL6G,cAAQN,QAAQO,IAAR,CAAalG;AADhB;AAFwC,GAAhD,EAKGmG,IALH,CAKQ,UAAU/G,IAAV,EAAgBwF,UAAhB,EAA4BC,KAA5B,EAAoC;AAC1C5F,cAAUC,gBAAV,CAA2BC,UAA3B,EAAuCC,IAAvC;AAED,GARD;AASA,CAbD;;AAeA,IAAMgH,wBAAwB,SAAxBA,qBAAwB,CAACT,OAAD,EAAa;AACzC,MAAMxG,aAAakG,OAAO,MAAIM,QAAQE,OAAnB,EAA4BtE,OAA5B,CAAoC,eAApC,CAAnB;AACAtC,YAAUC,gBAAV,CAA2BC,UAA3B,EAAuCwG,QAAQU,IAAR,CAAapH,SAApD;AAED,CAJD;;AAMA,IAAMqH,yBAAyB,SAAzBA,sBAAyB,CAACC,eAAD;AAAA,SAAqB,UAACC,WAAD;AAAA,WAAiB,UAAC7D,KAAD,QAA8B;AAAA,UAApB8B,IAAoB,QAApBA,IAAoB;AAAA,UAAdkB,OAAc,QAAdA,OAAc;;AACjG,cAAQlB,IAAR;AACE,aAAK,sBAAL;AAA6B;AAE3B,gBAAIkB,QAAQE,OAAR,CAAgBY,OAAhB,CAAwB,KAAxB,MAAmC,CAAC,CAApC,IAAyCd,QAAQO,IAAR,CAAalG,EAA1D,EACA;AACC0F,oCAAsBC,OAAtB;AACA;AACD,mBAAOY,gBAAgB5D,KAAhB,EAAuB,EAAE8B,UAAF,EAAQkB,gBAAR,EAAvB,CAAP;AACD;;AAED,aAAK,4BAAL;AAAmC;AAEjC,gBAAIA,QAAQE,OAAR,CAAgBY,OAAhB,CAAwB,KAAxB,MAAmC,CAAC,CAAxC,EACA;AACEL,oCAAsBT,OAAtB;AACD;AACD,mBAAOY,gBAAgB5D,KAAhB,EAAuB,EAAE8B,UAAF,EAAQkB,gBAAR,EAAvB,CAAP;AACD;;AAED;AAAS;AACP,mBAAOY,gBAAgB5D,KAAhB,EAAuB,EAAE8B,UAAF,EAAQkB,gBAAR,EAAvB,CAAP;AACD;AArBH;AAuBD,KAxBmD;AAAA,GAArB;AAAA,CAA/B;;AA0BA,oDAAAe,CAASC,SAAT,CAAmB,4BAAnB,EAAiD,UAACC,OAAD,EAAa;AAC5DA,UAAQC,OAAR,CAAgB,YAAhB,EAA8BP,sBAA9B;AACD,CAFD,E;;;;;;;;;;;;;;;;;;;ACtDA,wB;;;;;;;ACAA,0B","file":"js/main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 7b8a3a564178b2753754","/**\n * Handles Gridfield updates after a bulk action/upload\n */\nwindow.bulkTools = {\n  \n  gridfieldRefresh: function ($gridfield, data) {\n    if (!data.isError) {\n      if (data.isDestructive) {\n        this.removeGridFieldRows($gridfield, data.records.success);\n      } else {\n        this.updateGridFieldRows($gridfield, data.records.success);\n      }\n      //failed rows\n      this.failedGridFieldRows($gridfield, data.records.failed);\n    }\n  },\n\n  // return the gridfield row node for a specific record\n  getGridFieldRow: function ($gridfield, record) {\n    return $gridfield.find('.ss-gridfield-item[data-id=\"'+record.id+'\"][data-class=\"'+record.class+'\"]');\n  },\n\n  // remove all bulk tools class and attributes from the row\n  cleanGridFieldRow: function ($row) {\n    return $row.removeClass('bt-deleted bt-failed bt-updated').removeAttr('bt-error');\n  },\n\n  // mark all affected gridfield rows as deleted\n  removeGridFieldRows: function ($gridfield, records) {\n    records.forEach(function(record){\n      var $row = this.getGridFieldRow($gridfield, record);\n      $row.addClass('bt-deleted').fadeOut(2000);\n    }, this);\n    $gridfield.entwine('.').entwine('ss').delay(2000).reload();\n  },\n\n  // mark all affected gridfield rows as failed\n  failedGridFieldRows: function ($gridfield, records) {\n    records.forEach(function(record){\n      var $row = this.getGridFieldRow($gridfield, record);\n      $row.addClass('bt-failed').attr('bt-error', record.message);\n      //pseudo element absolute pos don't work in TR, so we'll have to find some JS way to show the bt-error content..\n    }, this);\n  },\n\n  // update rows with new content\n  updateGridFieldRows: function ($gridfield, records) {\n    $gridfield.find('.ss-gridfield-item.ss-gridfield-no-items').remove();\n    records.forEach(function(record){\n      var $row = this.getGridFieldRow($gridfield, record);\n      var $newRow = $(record.row).addClass('bt-updated');\n      //replace existing or add new?\n      if ($row.length === 1) {\n        $row.replaceWith($newRow);\n      } else {\n        $gridfield.find('.ss-gridfield-items').prepend($newRow);\n      }      \n    }, this);\n  },\n\n  //removes an item from the upload item\n  //this is bad! can't dispatch within Reducer\n  //so it's commentted until actions are written\n  /*\n  removeUploadItem: function ($gridfield, queueIndex, fileID)\n  {\n    //we use queueIndex for uploads since the input value will not have been changed yet and we can't watch for change event on hidden input\n    if (fileID) {\n      $gridfield.find('.uploadfield-item').find('input[value=\"'+fileID+'\"]').siblings('button.uploadfield-item__remove-btn').trigger('click');\n    } else if (queueIndex) {\n      $gridfield.find('.uploadfield-item').eq(queueIndex-1).find('button.uploadfield-item__remove-btn').trigger('click');\n    }\n  }*/\n}\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/bulkTools.js","(function($) {\n\t$.entwine('ss', function($) {\n\n\t\t$.entwine('colymba', function($) {\n\n\t\t\t/**\n       * Makes sure the component is above the headers\n       */\n      $('.bulkManagerOptions').entwine({\n        onmatch: function(){\n          var $parent = this.parents('thead'),\n          \t\t$tr = $parent.find('tr'),\n\n          \t\ttargets = ['.filter-header', '.sortable-header'],\n          \t\t$target = $parent.find(targets.join(',')),\n\n              index = $tr.index(this),\n              newIndex = $tr.length - 1\n              ;\n\n          $target.each(function(index, Element){\n          \tvar idx = $tr.index(Element);\n          \tif ( idx < newIndex )\n          \t{\n          \t\tnewIndex = idx;\n          \t}\n          });\n\n          if ( index > newIndex )\n          {\n            $tr.eq(newIndex).insertAfter($(this));\n          }\n        },\n        onunmatch: function(){}\n      });\n\n\n\t\t  /**\n\t\t   * Bulkselect table cell behaviours\n\t\t   */\n\t\t\t$('td.col-bulkSelect').entwine({\n\t\t\t\tonmatch: function(){\n\t\t\t\t},\n\t\t\t\tonunmatch: function(){\n\t\t\t\t},\n\t\t\t\tonmouseover: function(){\n\t\t\t\t\t//disable default row click behaviour -> avoid navigation to edit form when clicking the checkbox\n\t        $(this).parents('.ss-gridfield-item').find('.edit-link').removeClass('edit-link').addClass('tempDisabledEditLink');\n\t\t\t\t},\n\t\t\t\tonmouseout: function(){\n\t\t\t\t\t//re-enable default row click behaviour\n\t\t\t\t\t$(this).parents('.ss-gridfield-item').find('.tempDisabledEditLink').addClass('edit-link').removeClass('tempDisabledEditLink');\n\t\t\t\t},\n\t\t\t\tonclick: function(e) {\n\t\t\t\t\t//check/uncheck checkbox when clicking cell\n\t\t\t\t\tvar cb = $(e.target).find('input');\n\t\t\t\t\tif ( !$(cb).prop('checked') ) $(cb).prop('checked', true);\n\t\t\t\t\telse $(cb).prop('checked', false);\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * Individual select checkbox behaviour\n\t\t\t */\n\t\t\t$('td.col-bulkSelect input').entwine({\n\t\t\t\tonmatch: function(){\n\t\t\t\t},\n\t\t\t\tonunmatch: function(){\n\t\t\t\t},\n\t\t\t\tonclick: function(e) {\n\t\t\t\t\t$(this).parents('.grid-field__table').find('input.bulkSelectAll').prop('checked', '');\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * Bulkselect checkbox behaviours\n\t\t\t */\n\t    $('input.bulkSelectAll').entwine({\n\t      onmatch: function(){\n\t\t\t\t},\n\t\t\t\tonunmatch: function(){\n\t\t\t\t},\n\t      onclick: function()\n\t      {\n\t        var state = $(this).prop('checked');\n\t        $(this).parents('.grid-field__table')\n\t        \t\t\t .find('td.col-bulkSelect input')\n\t        \t\t\t .prop('checked', state)\n\t        \t\t\t .trigger('change');\n\t      },\n\t      getSelectRecordsID: function()\n\t      {\n\t      \treturn $(this).parents('.grid-field__table')\n\t\t\t\t\t      \t\t\t\t.find('td.col-bulkSelect input:checked')\n\t\t\t\t\t      \t\t\t\t.map(function() {\n\t\t\t\t\t      \t\t\t\t\treturn parseInt( $(this).data('record') )\n\t\t\t\t\t      \t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t  .get();\n\t      }\n\t    });\n\n\n\t    /**\n\t     * Bulk action dropdown behaviours\n\t     */\n\t\t\t$('select.bulkActionName').entwine({\n\t\t\t\tonmatch: function(){\n\t\t\t\t},\n\t\t\t\tonunmatch: function(){\n\t\t\t\t},\n\t\t\t\tonchange: function(e)\n\t\t\t\t{\n\t\t\t\t\tvar value   = $(this).val(),\n\t\t\t\t\t\t$parent = $(this).parents('.bulkManagerOptions'),\n\t\t\t\t\t\t$btn    = $parent.find('.doBulkActionButton'),\n\t\t\t\t\t\tconfig  = $btn.data('config');\n\n\t\t\t\t\t$.each( config, function( configKey, configData )\n\t\t\t\t\t{\n\t\t\t\t\t\tif ( configKey != value )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$btn.removeClass(configData['buttonClasses']);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\n\t\t\t\t\tif(!value)\n\t\t\t\t\t{\n\t\t\t\t\t\t$btn.addClass('disabled');\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t$btn.removeClass('disabled');\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\t$btn.addClass(config[value]['buttonClasses']).addClass('btn-outline-secondary');\n\n\n\t\t\t\t\tif ( config[value]['icon'] )\n\t\t\t\t\t{\n\t\t\t\t\t\tvar $img = $btn.find('img');\n\n\t\t\t\t\t\tif ($img.length)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t$img.attr('src', config[value]['icon']);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse{\n\t\t\t\t\t\t\t$btn.prepend('<img src=\"'+config[value]['icon']+'\" alt=\"\" />');\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\t$btn.find('img').remove();\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif ( config[value]['destructive'] )\n\t\t\t\t\t{\n\t\t\t\t\t\t$btn.addClass('btn-outline-danger');\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\t$btn.removeClass('btn-outline-danger');\n\t\t\t\t\t}\n\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t\t/**\n\t\t\t * bulk action button behaviours\n\t\t\t */\n\t\t\t$('.doBulkActionButton').entwine({\n\t\t\t\tonmatch: function(){\n\t\t\t\t},\n\t\t\t\tonunmatch: function(){\n\t\t\t\t},\n\t\t\t\tgetActionURL: function(action, url)\n\t\t\t\t{\n\t\t\t\t\tvar cacheBuster = new Date().getTime();\n\t\t\t\t\turl = url.split('?');\n\n\t\t\t\t\tif ( action )\n\t\t\t\t\t{\n\t\t\t\t\t\taction = '/' + action;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\taction = '';\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( url[1] )\n\t\t\t\t\t{\n\t\t\t\t\t\turl = url[0] + action + '?' + url[1] + '&' + 'cacheBuster=' + cacheBuster;\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\turl = url[0] + action + '?' + 'cacheBuster=' + cacheBuster;\n\t\t\t\t\t}\n\t\t\t\t\treturn url;\n\t\t\t\t},\n\t\t\t\tonclick: function(e)\n\t\t\t\t{\n          var $parent = $(this).parents('.bulkManagerOptions'),\n              action  = $parent.find('select.bulkActionName').val(),\n              ids     = $(this).parents('.bulkManagerOptions').find('input.bulkSelectAll:first').getSelectRecordsID()\n\t\t\t\t\t\t\t;\n\n\t\t\t\t\tthis.doBulkAction(action, ids);\n\t\t\t\t},\n\n\t\t\t\tdoBulkAction: function(action, ids)\n\t\t\t\t{\n          var $parent = $(this).parents('.bulkManagerOptions'),\n              $btn    = $parent.find('a.doBulkActionButton'),\n              $msg    = $parent.find('.message'),\n\n              config  = $btn.data('config'),\n              url     = this.getActionURL(action, $(this).data('url')),\n              data    = { records: ids }\n\t\t\t\t\t\t\t;\n\n\t\t\t\t\tif ( ids.length <= 0 )\n\t\t\t\t\t{\n\t\t\t\t\t\talert( ss.i18n._t('GRIDFIELD_BULK_MANAGER.BULKACTION_EMPTY_SELECT') );\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t//if ( $btn.hasClass('ss-ui-action-destructive') )\n\t\t\t\t\tif ( config[action]['destructive'] )\n\t\t\t\t\t{\n\t\t\t\t\t\tif( !confirm(ss.i18n._t('GRIDFIELD_BULK_MANAGER.CONFIRM_DESTRUCTIVE_ACTION')) )\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\t$btn.addClass('loading');\n\t\t\t\t\t$msg.removeClass('static show error warning');\n\n\t\t\t\t\tif ( config[action]['xhr'] )\n\t\t\t\t\t{\n\t\t\t\t\t\t$.ajax({\n\t\t\t\t\t\t\turl: url,\n\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\ttype: \"POST\",\n\t\t\t\t\t\t\tcontext: $(this)\n\t\t\t\t\t\t}).always(function(data, textStatus, jqXHR) {\n\t\t\t\t\t\t\t$btn.removeClass('loading');\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t//if request fail, return a +4xx status code, extract json response\n\t\t\t\t\t\t\tif (data.responseText) {\n\t\t\t\t\t\t\t\tdata = JSON.parse(data.responseText);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t$msg.html(data.message);\n\n\t\t\t\t\t\t\tif(data.isError) {\n\t\t\t\t\t\t\t\t$msg.addClass('static error');\n\t\t\t\t\t\t\t} else if (data.isWarning) {\n\t\t\t\t\t\t\t\t$msg.addClass('show warning');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t$msg.addClass('show');\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbulkTools.gridfieldRefresh($(this).parents('.ss-gridfield'), data);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t\telse{\n\t\t\t\t\t\tvar records = 'records[]='+ids.join('&records[]=');\n\t\t\t\t\t\turl = url + '&' + records;\n\n\t\t\t\t\t\twindow.location.href = url;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\n\n\t\t});\n\t});\n}(jQuery));\n\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/manager.js","(function($) {\n  $.entwine('colymba', function($) {\n\n    /**\n     * Toggle all accordion forms\n     * open or closed\n     */\n    $('#bulkEditToggle') .entwine({\n      onmatch: function(){},\n      onunmatch: function(){},\n      onclick: function(e)\n      {\n        var toggleFields = this.parents('form').find('.ss-toggle .ui-accordion-header'),\n            state        = this.data('state')\n            ;\n\n        if ( !state || state === 'close' )\n        {\n          state = 'open';\n        }\n        else {\n          state = 'close';\n        }\n\n        toggleFields.each(function()\n        {\n          var $this = $(this);\n          \n          if ( state === 'open' && !$this.hasClass('ui-state-active') )\n          {\n            $this.click();\n          }\n\n          if ( state === 'close' && $this.hasClass('ui-state-active') )\n          {\n            $this.click();\n          } \n        });\n\n        this.data('state', state);\n      }\n    });\n    \n    \n    /**\n     * Contains each rocrds editing fields,\n     * tracks changes and updates...\n     */\n    $('.bulkEditingFieldHolder').entwine({\n      onmatch: function(){},\n      onunmatch: function(){},\n      onchange: function(){\n        this.removeClass('updated');\n        if ( !this.hasClass('hasUpdate') )\n        {\n          this.addClass('hasUpdate');\n        }\n      }\n    });\n    \n  });\n}(jQuery));\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/managerBulkEditingForm.js","/**\n * A quick hack to catch the uploadfield add file event\n * and send the file ID to the bulkUploader component\n */\nimport Injector from 'lib/Injector';\n\n\nconst bulkUploadFieldAttach = (payload) => {\n  const $uploadField = jQuery('#'+payload.fieldId);\n\tconst $gridfield = $uploadField.parents('.ss-gridfield');\n  const schema = $uploadField.data('schema');\n\tjQuery.ajax(schema.data.attachFileEndpoint.url, {\n\t  method: schema.data.attachFileEndpoint.method, //doesn't seem to change anything\n\t  data: {\n\t  \tfileID: payload.file.id\n\t  }\n\t}).done(function( data, textStatus, jqXHR ) {\n\t  bulkTools.gridfieldRefresh($gridfield, data);\n    //bulkTools.removeUploadItem($gridfield, null, payload.file.id);//bad! can't dispath in Reducer\n\t});\n}\n\nconst bulkUploadFieldUpload = (payload) => {\n  const $gridfield = jQuery('#'+payload.fieldId).parents('.ss-gridfield');\n  bulkTools.gridfieldRefresh($gridfield, payload.json.bulkTools);\n  //bulkTools.removeUploadItem($gridfield, payload.queuedId, null);//bad! can't dispath in Reducer\n}\n\nconst bulkUploadFieldReducer = (originalReducer) => (globalState) => (state, { type, payload }) => {\n  switch (type) {\n    case 'UPLOADFIELD_ADD_FILE': {\n      // Needs to be a bulk upload field and have a file ID (no file ID = normal)\n      if (payload.fieldId.indexOf('_BU') !== -1 && payload.file.id)\n      {\n      \tbulkUploadFieldAttach(payload);\n      }\n      return originalReducer(state, { type, payload });\n    }\n\n    case 'UPLOADFIELD_UPLOAD_SUCCESS': {\n      //check if this is a bulk upload\n      if (payload.fieldId.indexOf('_BU') !== -1)\n      {\n        bulkUploadFieldUpload(payload);\n      }\n      return originalReducer(state, { type, payload });\n    }\n\n    default: {\n      return originalReducer(state, { type, payload });\n    }\n  }\n}\n\nInjector.transform('bulkUploaderTransformation', (updater) => {\n  updater.reducer('assetAdmin', bulkUploadFieldReducer);\n});\n\n\n// WEBPACK FOOTER //\n// ./client/src/js/uploader.js","module.exports = jQuery;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = jquery\n// module chunks = 0","module.exports = Injector;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Injector\"\n// module id = lib/Injector\n// module chunks = 0"],"sourceRoot":""}